# MultiHelper Bot

__Подготовлено__:

№ УЧАСТНИК №1

**ФИО**:

Падерин Максим Станиславович 

**ИСУ**:

467000


№ УЧАСТНИК №2

**ФИО**:

Мищенко Михаил Дмитриевич

**ИСУ**:

466743


---


## Описание

MultiHelper Bot — это многофункциональный бот-помощник, который помогает пользователям узнавать погоду, создавать напоминания и поддерживать мотивацию с помощью золотыз цитат. Бот поддерживает мультиязычность и  хранит данные в асинхронной базе данных SQLite. Бот автоматически подстраивает язык под системный в вашем Telegram.

---

## Функционал

- Получение прогноза погоды с выбором города (WeatherStach) по команде /weather
- Мотивационные цитаты по команде /motivation
- Создание напоминаний с текстом и временем по команде /remind
- Смена языка интерфейса через команду /language
- Поддержка нескольких языков с хранением переводов в json
- Асинхронная работа с базой данных (SQLite + SQLAlchemy)
- Логирование действий пользователей в bot.log и google.sheets
- Обработка ошибок API

---

## Алгоритм работы

1. Пользователь запускает бота командой /start.
2. При первом запуске создаётся запись в базе с его Telegram ID и системным языком.
3. Пользователь может получить погоду через /weather.
4. По команде /motivation бот присылает случайную мотивационную цитату из quotes.json.
5. Команда /remind запускает диалог для создания напоминания с текстом и временем.
6. Команда /language предлагает выбрать язык интерфейса, который сохраняется в базе и используется в будующих ответах.

---

## Установка и запуск

### Установка зависимостей

"pip install -r requirements.txt"


### Настройка .env

В корне проекта создайте файл .env и добавьте туда свои ключи:

## Как получить ключи

**BOT_TOKEN**
Получите токен у BotFather (https://t.me/BotFather) в Telegram.

**WEATHER_API_KEY**
Зарегистрируйтесь на WeatherStack (https://weatherstack.com/dashboard) !Не из РФ! и получите API ключ.

**DATABASE_URL**

**GAS_WEBHOOK_URL**
Создайте файл в Google Sheets;
Нажмите Extensions -> AppScript;
Введите Базовый скрипт:
"function doPost(e) {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName("Logs");
  var data = JSON.parse(e.postData.contents);
  sheet.appendRow([data.user_id, data.command, new Date()]);
  return ContentService.createTextOutput("OK");
}";
Нажмите Deploy -> Manage deployments;
Войдите со своего Google акаунта и получите URL
